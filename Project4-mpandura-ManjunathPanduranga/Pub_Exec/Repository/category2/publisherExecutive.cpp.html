<!DOCTYPE html><html>	<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style>.collapsing{background-color: yellow;}body{margin: 20px;color: black;background-color: #f4f2c6;font-family: Consolas;font - weight: 600;font - size: 90 % ;}.indent{margin - left: 20px;margin - right: 20px;}h4{margin - bottom: 3px;margin - top: 3px;}</style></head>	<h3>E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category2\publisherExecutive.cpp</h3><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\AbstrSynTree.cpp.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\AbstrSynTree.cpp</a>
</div><hr /><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\AbstrSynTree.h.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\AbstrSynTree.h</a>
</div><hr /><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\Graph.h.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\Graph.h</a>
</div><hr /><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\SCC.cpp.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\SCC.cpp</a>
</div><hr /><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\SCC.h.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\SCC.h</a>
</div><hr /><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\TypeTable.h.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\TypeTable.h</a>
</div><hr /><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\XmlReader.cpp.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\XmlReader.cpp</a>
</div><hr /><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\publisherExecutive.cpp.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\publisherExecutive.cpp</a>
</div><hr /><div class = "indent"><hr /><h4>Dependencies:</h4><a href ="E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\publisherExecutive.h.html">E:\project4\Project3-mpandura-ManjunathPanduranga\Pub_Exec\Repository\category1\publisherExecutive.h</a>
</div><hr /><body><pre>#include &ltsstream&gt
#include &ltstring&gt
#include &ltvector&gt
#include &ltmap&gt
#include &ltunordered_map&gt
#include &ltfunctional&gt
#include &ltalgorithm&gt
#include &ltexception&gt
#include &ltiomanip&gt
#include &ltchrono&gt
#include &ltctime&gt



#include"TypeTable.h"
#include "publisherExecutive.h"
//#include"DepAnal.h"
#include"Graph.h"
#include"XmlReader.h"
#include"XmlWriter.h"
#include"SCC.h"
#include "../Parser/Parser.h"
#include "../FileSystem/FileSystem.h"
#include "../FileMgr/FileMgr.h"
#include "../Parser/ActionsAndRules.h"
#include "../Parser/ConfigureParser.h"
#include "../AbstractSyntaxTree/AbstrSynTree.h"
#include "../Logger/Logger.h"
#include "../Utilities/Utilities.h"
#include"../NoSqlDb/NoSqlDb.h"

using Rslt = Logging::StaticLogger&lt0&gt;  // use for application results
using Demo = Logging::StaticLogger&lt1&gt;  // use for demonstrations of processing
using Dbug = Logging::StaticLogger&lt2&gt;  // use for debug output


										/////////////////////////////////////////////////////////////////////
										// AnalFileMgr class
										// - Derives from FileMgr to make application specific file handler
										//   by overriding FileMgr::file(), FileMgr::dir(), and FileMgr::done()
typedef Vertex&ltstd::string, std::string&gt vertex;

using Path = std::string;
using File = std::string;
using Files = std::vector&ltFile&gt;
using Pattern = std::string;
using Ext = std::string;
using FileMap = std::unordered_map&ltPattern, Files&gt;

using StrData = std::string;
using intData = int;
using Key = NoSqlDb&ltStrData&gt::Key;
using Keys = NoSqlDb&ltStrData&gt::Keys;
using namespace CodeAnalysis;

//----&lt initialize application specific FileMgr &gt--------------------
/*
* - Accepts CodeAnalysisExecutive's path and fileMap by reference
*/


AnalFileMgr::AnalFileMgr(const Path& path, FileMap& fileMap)
	: FileMgr(path), fileMap_(fileMap), numFiles_(0), numDirs_(0) <div6 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo6">+</button>
<div2006 id="demo6" class="collapse">{}</div6></div2006>

//----&lt override of FileMgr::file(...) to store found files &gt------

void AnalFileMgr::file(const File& f)
<div93 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo93">+</button>
<div1993 id="demo93" class="collapse">{
	File fqf = d_ + "\\" + f;
	Ext ext = FileSystem::Path::getExt(fqf);
	Pattern p = "*." + ext;
	fileMap_[p].push_back(fqf);
	++numFiles_;
}</div93></div1993>
//----&lt override of FileMgr::dir(...) to save current dir &gt----------
typedef Display&ltstd::string, std::string&gt display;

void AnalFileMgr::dir(const Dir& d)
<div29 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo29">+</button>
<div2008 id="demo29" class="collapse">{
	d_ = d;
	++numDirs_;
}</div29></div2008>
//----&lt override of FileMgr::done(), not currently used &gt------------

void AnalFileMgr::done()
<div84 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo84">+</button>
<div1989 id="demo84" class="collapse">{
}</div84></div1989>
//----&lt returns number of matched files from search &gt----------------

size_t AnalFileMgr::numFiles()
<div56 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo56">+</button>
<div2005 id="demo56" class="collapse">{
	return numFiles_;
}</div56></div2005>
//----&lt returns number of dirs searched &gt----------------------------

size_t AnalFileMgr::numDirs()
<div66 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo66">+</button>
<div2011 id="demo66" class="collapse">{
	return numDirs_;
}</div66></div2011>

/////////////////////////////////////////////////////////////////////
// CodeAnalysisExecutive class
// - 
using Path = std::string;
using Pattern = std::string;
using Patterns = std::vector&ltPattern&gt;
using File = std::string;
using Files = std::vector&ltFile&gt;
using Ext = std::string;
using FileMap = std::unordered_map&ltPattern, Files&gt;
using ASTNodes = std::vector&ltASTNode*&gt;
using FileToNodeCollection = std::vector&ltstd::pair&ltFile, ASTNode*&gt&gt;

//----&lt initialize parser, get access to repository &gt----------------

CodeAnalysisExecutive::CodeAnalysisExecutive()
<div31 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo31">+</button>
<div2013 id="demo31" class="collapse">{
	pParser_ = configure_.Build();
	if (pParser_ == nullptr)
	<div44 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo44">+</button>
<div1994 id="demo44" class="collapse">{
		throw std::exception("couldn't create parser");
	}</div44></div1994>
	pRepo_ = Repository::getInstance();
}</div44></div1994>
//----&lt cleanup &gt----------------------------------------------------

CodeAnalysisExecutive::~CodeAnalysisExecutive()
<div26 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo26">+</button>
<div1998 id="demo26" class="collapse">{
	/*
	*  Nothing to do:
	*  - pParser_ and pRepo_ point to objects that the configure_
	*    destructor will delete.
	*  - The AbstractSynTree object will cleanup its contents when
	*    it goes out of scope by deleting the root of the AST node
	*    tree.
	*  - Each node deletes its children, so, again, nothing more
	*    to do.
	*  - This is here to present these comments and to make this
	*    base destructor virtual.
	*/
}</div26></div1998>
//----&lt usage message &gt----------------------------------------------

void showUsage()
<div37 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo37">+</button>
<div2013 id="demo37" class="collapse">{
	std::ostringstream out;
	out &lt&lt "\n  Usage:";
	out &lt&lt "\n  Command Line Arguments are:";
	out &lt&lt "\n  - 1st: path to subdirectory containing files to analyze";
	out &lt&lt "\n  - remaining non-option arguments are file patterns, e.g., *.h and/or *.cpp, etc.";
	out &lt&lt "\n  - must have at least one file pattern to specify what to process";
	out &lt&lt "\n  - option arguments have the format \"\"/x\" , where x is one of the options:";
	out &lt&lt "\n    - m : display function metrics";
	out &lt&lt "\n    - s : display file sizes";
	out &lt&lt "\n    - a : display Abstract Syntax Tree";
	out &lt&lt "\n    - r : set logger to display results";
	out &lt&lt "\n    - d : set logger to display demo outputs";
	out &lt&lt "\n    - b : set logger to display debug outputs";
	out &lt&lt "\n    - f : write all logs to logfile.txt";
	out &lt&lt "\n  A metrics summary is always shown, independent of any options used or not used";
	out &lt&lt "\n\n";
	std::cout &lt&lt out.str();
	//Rslt::write(out.str());
	//Rslt::flush();
}</div37></div2013>
//----&lt show command line arguments &gt--------------------------------

void CodeAnalysisExecutive::showCommandLineArguments(int argc, char* argv[])
<div18 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo18">+</button>
<div1997 id="demo18" class="collapse">{
	std::ostringstream out;
	out &lt&lt "\n     Path: \"" &lt&lt FileSystem::Path::getFullFileSpec(argv[1]) &lt&lt "\"\n     Args: ";
	for (int i = 2; i &lt argc - 1; ++i)
		out &lt&lt argv[i] &lt&lt ", ";
	out &lt&lt argv[argc - 1];
	Rslt::write(out.str());
	Rslt::flush();
}</div18></div1997>
//----&lt handle command line arguments &gt------------------------------
/*
* Arguments are:
* - path: possibly relative path to folder containing all analyzed code,
*   e.g., may be anywhere in the directory tree rooted at that path
* - patterns: one or more file patterns of the form *.h, *.cpp, and *.cs
* - options: /m (show metrics), /s (show file sizes), and /a (show AST)
*/
bool CodeAnalysisExecutive::ProcessCommandLine(int argc, char* argv[])
<div29 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo29">+</button>
<div1996 id="demo29" class="collapse">{
	if (argc &lt 2)
	<div33 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo33">+</button>
<div1990 id="demo33" class="collapse">{
		showUsage();
		return false;
	}</div33></div1990>
	try <div39 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo39">+</button>
<div2003 id="demo39" class="collapse">{
		
		path_ = FileSystem::Path::getFullFileSpec(argv[1]);
		// path_ = "C:\\Users\\Manjunath Gowda\\CodeAnalyzer (1)\\AbstractSyntaxTree";
		if (!FileSystem::Directory::exists(path_))
		<div4 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo4">+</button>
<div1985 id="demo4" class="collapse">{
			std::cout &lt&lt "\n\n  path \"" &lt&lt path_ &lt&lt "\" does not exist\n\n";
			return false;
		}</div4></div1985>
		for (int i = 2; i &lt argc; ++i)
		<div77 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo77">+</button>
<div2011 id="demo77" class="collapse">{
			if (argv[i][0] == '/')
				options_.push_back(argv[i][1]);
			else
				patterns_.push_back(argv[i]);
		}</div77></div2011>
		if (patterns_.size() == 0)
		<div73 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo73">+</button>
<div1991 id="demo73" class="collapse">{
			showUsage();
			return false;
		}</div73></div1991>
	}</div73></div1991>
	catch (std::exception& ex)
	<div21 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo21">+</button>
<div1990 id="demo21" class="collapse">{
		std::cout &lt&lt "\n\n  command line argument parsing error:";
		std::cout &lt&lt "\n  " &lt&lt ex.what() &lt&lt "\n\n";
		return false;
	}</div21></div1990>
	return true;
}</div21></div1990>
//----&lt returns path entered on command line &gt-------------------

std::string CodeAnalysisExecutive::getAnalysisPath()
<div24 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo24">+</button>
<div2007 id="demo24" class="collapse">{
	return path_;
}</div24></div2007>
//----&lt returns reference to FileMap &gt---------------------------
/*
* Supports quickly finding all the files found with a give pattern
*/
FileMap& CodeAnalysisExecutive::getFileMap()
<div70 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo70">+</button>
<div1994 id="demo70" class="collapse">{
	return fileMap_;
}</div70></div1994>
//----&lt searches path for files matching specified patterns &gt----
/*
* - Searches entire diretory tree rooted at path_, evaluated
*   from a command line argument.
* - Saves found files in FileMap.
*/
void CodeAnalysisExecutive::getSourceFiles()
<div77 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo77">+</button>
<div1988 id="demo77" class="collapse">{
	AnalFileMgr fm(path_, fileMap_);
	for (auto patt : patterns_)
		fm.addPattern(patt);
	fm.search();
	numFiles_ = fm.numFiles();
	numDirs_ = fm.numDirs();
}</div77></div1988>
//----&lt helper: is text a substring of str? &gt--------------------
typedef Graph&ltstd::string, std::string&gt graph;


bool contains(const std::string& str, const std::string& text)
<div97 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo97">+</button>
<div1997 id="demo97" class="collapse">{
	if (str.find(text) &lt str.length())
		return true;
	return false;
}</div97></div1997>
//----&lt retrieve from fileMap all files matching *.h &gt-----------

std::vector&ltFile&gt& CodeAnalysisExecutive::cppHeaderFiles()
<div86 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo86">+</button>
<div1985 id="demo86" class="collapse">{
	cppHeaderFiles_.clear();
	for (auto item : fileMap_)
	<div61 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo61">+</button>
<div1991 id="demo61" class="collapse">{
		if (contains(item.first, "*.h"))
		<div55 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo55">+</button>
<div2002 id="demo55" class="collapse">{
			for (auto file : item.second)
				cppHeaderFiles_.push_back(file);
		}</div55></div2002>
	}</div55></div2002>
	return cppHeaderFiles_;
}</div55></div2002>
//----&lt retrieve from fileMap all files matching *.cpp &gt---------

std::vector&ltFile&gt& CodeAnalysisExecutive::cppImplemFiles()
<div55 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo55">+</button>
<div1989 id="demo55" class="collapse">{
	cppImplemFiles_.clear();
	for (auto item : fileMap_)
	<div31 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo31">+</button>
<div2007 id="demo31" class="collapse">{
		if (contains(item.first, "*.cpp"))
		<div50 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo50">+</button>
<div1995 id="demo50" class="collapse">{
			for (auto file : item.second)
				cppImplemFiles_.push_back(file);
		}</div50></div1995>
	}</div50></div1995>
	return cppImplemFiles_;
}</div50></div1995>
//----&lt retrieve from fileMap all files matching *.cs &gt----------

std::vector&ltFile&gt& CodeAnalysisExecutive::csharpFiles()
<div41 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo41">+</button>
<div1989 id="demo41" class="collapse">{
	csharpFiles_.clear();
	for (auto item : fileMap_)
	<div66 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo66">+</button>
<div1995 id="demo66" class="collapse">{
		if (contains(item.first, "*.cs"))
		<div7 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo7">+</button>
<div1996 id="demo7" class="collapse">{
			for (auto file : item.second)
				csharpFiles_.push_back(file);
		}</div7></div1996>
	}</div7></div1996>
	return csharpFiles_;
}</div7></div1996>
//----&lt report number of Source Lines Of Code (SLOCs) &gt----------

CodeAnalysisExecutive::Slocs CodeAnalysisExecutive::fileSLOCs(const File& file)
<div7 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo7">+</button>
<div2012 id="demo7" class="collapse">{
	return slocMap_[file];
}</div7></div2012>
//----&lt report number of files processed &gt-----------------------

size_t CodeAnalysisExecutive::numFiles()
<div57 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo57">+</button>
<div2002 id="demo57" class="collapse">{
	return numFiles_;
}</div57></div2002>
//----&lt report number of directories searched &gt------------------

size_t CodeAnalysisExecutive::numDirs()
<div53 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo53">+</button>
<div1988 id="demo53" class="collapse">{
	return numDirs_;
}</div53></div1988>
//----&lt show processing activity &gt-------------------------------

void CodeAnalysisExecutive::showActivity(const File& file)
<div45 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo45">+</button>
<div2014 id="demo45" class="collapse">{
	std::function&ltstd::string(std::string, size_t)&gt trunc = [](std::string in, size_t count)
	<div9 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo9">+</button>
<div1993 id="demo9" class="collapse">{
		return in.substr(0, count);
	}</div9></div1993>;

	if (Rslt::running())
	<div21 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo21">+</button>
<div2003 id="demo21" class="collapse">{
		std::cout &lt&lt std::left &lt&lt "\r     Processing file: " &lt&lt std::setw(80) &lt&lt trunc(file, 80);
	}</div21></div2003>
}</div21></div2003>

void CodeAnalysisExecutive::clearActivity()
<div22 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo22">+</button>
<div2001 id="demo22" class="collapse">{
	if (Rslt::running())
	<div6 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo6">+</button>
<div1995 id="demo6" class="collapse">{
		std::cout &lt&lt std::left &lt&lt "\r                      " &lt&lt std::setw(80) &lt&lt std::string(80, ' ');
	}</div6></div1995>
}</div6></div1995>
//----&lt parses code and saves results in AbstrSynTree &gt--------------
/*
* - Processes C++ header files first to build AST with nodes for
*   all public classes and structs.
* - Then processes C++ implementation files.  Each member function
*   is relocated to its class scope node, not the local scope.
* - Therefore, this ordering is important.
* - C# code has all member functions inline, so we don't need to
*   do any relocation of nodes in the AST.  Therefore, that analysis
*   can be done at any time.
* - If you bore down into the analysis code in ActionsAndRules.h you
*   will find some gymnastics to handle template syntax.  That can
*   get somewhat complicated, so there may be some latent bugs there.
*   I don't know of any at this time.
*/
void CodeAnalysisExecutive::setLanguage(const File& file)
<div13 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo13">+</button>
<div1993 id="demo13" class="collapse">{
	std::string ext = FileSystem::Path::getExt(file);
	if (ext == "h" || ext == "cpp")
		pRepo_-&gtlanguage() = Language::Cpp;
	else if (ext == "cs")
		pRepo_-&gtlanguage() = Language::CSharp;
}</div13></div1993>

void CodeAnalysisExecutive::processSourceCode(bool showProc)
<div0 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo0">+</button>
<div1996 id="demo0" class="collapse">{
	for (auto file : cppHeaderFiles())
	<div62 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo62">+</button>
<div1990 id="demo62" class="collapse">{
		if (showProc)
			showActivity(file);
		pRepo_-&gtpackage() = FileSystem::Path::getName(file);

		if (!configure_.Attach(file))
		<div10 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo10">+</button>
<div2014 id="demo10" class="collapse">{
			std::ostringstream out;
			out &lt&lt "\n  could not open file " &lt&lt file &lt&lt "\n";
			Rslt::write(out.str());
			Rslt::flush();
			continue;
		}</div10></div2014>
		// parse file
		Rslt::flush();
		Demo::flush();
		Dbug::flush();

		if (!Rslt::running())
			Demo::write("\n\n  opening file \"" + pRepo_-&gtpackage() + "\"");
		if (!Demo::running() && !Rslt::running())
			Dbug::write("\n\n  opening file \"" + pRepo_-&gtpackage() + "\"");
		pRepo_-&gtlanguage() = Language::Cpp;
		pRepo_-&gtcurrentPath() = file;
		while (pParser_-&gtnext())
		<div24 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo24">+</button>
<div2002 id="demo24" class="collapse">{
			pParser_-&gtparse();
		}</div24></div2002>

		Slocs slocs = pRepo_-&gtToker()-&gtcurrentLineCount();
		slocMap_[pRepo_-&gtpackage()] = slocs;
	}</div24></div2002>
	for (auto file : cppImplemFiles())
	<div48 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo48">+</button>
<div1988 id="demo48" class="collapse">{
		if (showProc)
			showActivity(file);
		pRepo_-&gtpackage() = FileSystem::Path::getName(file);

		if (!configure_.Attach(file))
		<div95 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo95">+</button>
<div2006 id="demo95" class="collapse">{
			std::ostringstream out;
			out &lt&lt "\n  could not open file " &lt&lt file &lt&lt "\n";
			Rslt::write(out.str());
			Rslt::flush();
			continue;
		}</div95></div2006>
		// parse file

		if (!Rslt::running())
			Demo::write("\n\n  opening file \"" + pRepo_-&gtpackage() + "\"");
		if (!Demo::running() && !Rslt::running())
			Dbug::write("\n\n  opening file \"" + pRepo_-&gtpackage() + "\"");
		pRepo_-&gtlanguage() = Language::Cpp;
		pRepo_-&gtcurrentPath() = file;
		while (pParser_-&gtnext())
			pParser_-&gtparse();

		Slocs slocs = pRepo_-&gtToker()-&gtcurrentLineCount();
		slocMap_[pRepo_-&gtpackage()] = slocs;
	}</div95></div2006>
	for (auto file : csharpFiles())
	<div2 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo2">+</button>
<div2005 id="demo2" class="collapse">{
		if (showProc)
			showActivity(file);
		pRepo_-&gtpackage() = FileSystem::Path::getName(file);

		if (!configure_.Attach(file))
		<div91 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo91">+</button>
<div2011 id="demo91" class="collapse">{
			std::ostringstream out;
			out &lt&lt "\n  could not open file " &lt&lt file &lt&lt "\n";
			Rslt::write(out.str());
			continue;
		}</div91></div2011>
		// parse file

		if (!Rslt::running())
			Demo::write("\n\n  opening file \"" + pRepo_-&gtpackage() + "\"");
		if (!Demo::running() && !Rslt::running())
			Dbug::write("\n\n  opening file \"" + pRepo_-&gtpackage() + "\"");
		pRepo_-&gtlanguage() = Language::CSharp;
		pRepo_-&gtcurrentPath() = file;
		while (pParser_-&gtnext())
			pParser_-&gtparse();

		Slocs slocs = pRepo_-&gtToker()-&gtcurrentLineCount();
		slocMap_[pRepo_-&gtpackage()] = slocs;
	}</div91></div2011>
	if (showProc)
		clearActivity();
	std::ostringstream out;
	out &lt&lt std::left &lt&lt "\r  " &lt&lt std::setw(77) &lt&lt " ";
	Rslt::write(out.str());
}</div91></div2011>
//----&lt evaluate complexities of each AST node &gt---------------------

void CodeAnalysisExecutive::complexityAnalysis()
<div74 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo74">+</button>
<div1995 id="demo74" class="collapse">{
	ASTNode* pGlobalScope = pRepo_-&gtgetGlobalScope();
	CodeAnalysis::complexityEval(pGlobalScope);
}</div74></div1995>
//----&lt comparison functor for sorting FileToNodeCollection &gt----
/*
* - supports stable sort on extension values
* - displayMetrics(...) uses to organize metrics display
*/
struct CompExts
<div96 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo96">+</button>
<div2006 id="demo96" class="collapse">{
	bool operator()(const std::pair&ltFile, ASTNode*&gt& first, const std::pair&ltFile, ASTNode*&gt& second)
	<div48 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo48">+</button>
<div1994 id="demo48" class="collapse">{
		return FileSystem::Path::getExt(first.first) &gt FileSystem::Path::getExt(second.first);
	}</div48></div1994>
}</div48></div1994>;
//----&lt comparison functor for sorting FileToNodeCollection &gt----
/*
* - supports stable sort on name values
* - displayMetrics(...) uses these functions to organize metrics display
*/
static void removeExt(std::string& name)
<div68 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo68">+</button>
<div1989 id="demo68" class="collapse">{
	size_t extStartIndex = name.find_last_of('.');
	name = name.substr(0, extStartIndex);
}</div68></div1989>

struct CompNames
<div81 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo81">+</button>
<div2009 id="demo81" class="collapse">{
	bool operator()(const std::pair&ltFile, ASTNode*&gt& first, const std::pair&ltFile, ASTNode*&gt& second)
	<div53 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo53">+</button>
<div2004 id="demo53" class="collapse">{
		std::string fnm = FileSystem::Path::getName(first.first);
		removeExt(fnm);
		std::string snm = FileSystem::Path::getName(second.first);
		removeExt(snm);
		return fnm &lt snm;
	}</div53></div2004>
}</div53></div2004>;
//----&lt display header line for displayMmetrics() &gt------------------

void CodeAnalysisExecutive::displayHeader()
<div18 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo18">+</button>
<div1993 id="demo18" class="collapse">{
	std::ostringstream out;
	out &lt&lt std::right;
	out &lt&lt "\n ";
	out &lt&lt std::setw(25) &lt&lt "file name";
	out &lt&lt std::setw(12) &lt&lt "type";
	out &lt&lt std::setw(35) &lt&lt "name";
	out &lt&lt std::setw(8) &lt&lt "line";
	out &lt&lt std::setw(8) &lt&lt "size";
	out &lt&lt std::setw(8) &lt&lt "cplx";
	out &lt&lt std::right;
	out &lt&lt "\n  ";
	out &lt&lt std::setw(25) &lt&lt "-----------------------";
	out &lt&lt std::setw(12) &lt&lt "----------";
	out &lt&lt std::setw(35) &lt&lt "---------------------------------";
	out &lt&lt std::setw(8) &lt&lt "------";
	out &lt&lt std::setw(8) &lt&lt "------";
	out &lt&lt std::setw(8) &lt&lt "------";
	Rslt::write(out.str());
}</div18></div1993>
//----&lt display single line for displayMetrics() &gt-------------------

void CodeAnalysisExecutive::displayMetricsLine(const File& file, ASTNode* pNode)
<div0 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo0">+</button>
<div1993 id="demo0" class="collapse">{
	std::function&ltstd::string(std::string, size_t)&gt trunc = [](std::string in, size_t count)
	<div27 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo27">+</button>
<div2002 id="demo27" class="collapse">{
		return in.substr(0, count);
	}</div27></div2002>;
	std::ostringstream out;
	out &lt&lt std::right;
	out &lt&lt "\n ";
	out &lt&lt std::setw(25) &lt&lt trunc(file, 23);
	out &lt&lt std::setw(12) &lt&lt pNode-&gttype_;
	out &lt&lt std::setw(35) &lt&lt trunc(pNode-&gtname_, 33);
	out &lt&lt std::setw(8) &lt&lt pNode-&gtstartLineCount_;
	out &lt&lt std::setw(8) &lt&lt pNode-&gtendLineCount_ - pNode-&gtstartLineCount_ + 1;
	size_t debug1 = pNode-&gtstartLineCount_;
	size_t debug2 = pNode-&gtendLineCount_;
	out &lt&lt std::setw(8) &lt&lt pNode-&gtcomplexity_;
	Rslt::write(out.str());
}</div27></div2002>
//----&lt display lines containing public data declaration &gt-----------

std::string CodeAnalysisExecutive::showData(const Scanner::ITokCollection* pTc)
<div28 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo28">+</button>
<div1998 id="demo28" class="collapse">{
	std::string semiExpStr;
	for (size_t i = 0; i&ltpTc-&gtlength(); ++i)
		semiExpStr += (*pTc)[i] + " ";
	return semiExpStr;
}</div28></div1998>

void CodeAnalysisExecutive::displayDataLines(ASTNode* pNode, bool isSummary)
<div48 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo48">+</button>
<div1998 id="demo48" class="collapse">{
	for (auto datum : pNode-&gtdecl_)
	<div7 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo7">+</button>
<div2006 id="demo7" class="collapse">{
		if (pNode-&gtparentType_ == "namespace" || pNode-&gtparentType_ == "class" || pNode-&gtparentType_ == "struct")
		<div10 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo10">+</button>
<div2002 id="demo10" class="collapse">{
			if (pNode-&gttype_ == "function" || pNode-&gtparentType_ == "function")
				continue;
			if (datum.access_ == Access::publ && datum.declType_ == DeclType::dataDecl)
			<div13 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo13">+</button>
<div1989 id="demo13" class="collapse">{
				std::ostringstream out;
				out &lt&lt std::right;
				out &lt&lt "\n ";
				out &lt&lt std::setw(25) &lt&lt "public data:" &lt&lt " ";
				if (isSummary)
				<div9 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo9">+</button>
<div2011 id="demo9" class="collapse">{
					out &lt&lt datum.package_ &lt&lt " : " &lt&lt datum.line_ &lt&lt " - "
						&lt&lt pNode-&gttype_ &lt&lt " " &lt&lt pNode-&gtname_ &lt&lt "\n " &lt&lt std::setw(15) &lt&lt " ";
				}</div9></div2011>
				out &lt&lt showData(datum.pTc);
				Rslt::write(out.str());
			}</div9></div2011>
		}</div9></div2011>
	}</div9></div2011>
}</div9></div2011>
//----&lt  helper for displayMetrics() &gt-------------------------------
/*
* - Breaking this out as a separate function allows application to
*   display metrics for a subset of the Abstract Syntax Tree
*/
void CodeAnalysisExecutive::displayMetrics(ASTNode* root)
<div35 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo35">+</button>
<div2006 id="demo35" class="collapse">{
	flushLogger();
	std::ostringstream out;
	out &lt&lt "Code Metrics - Start Line, Size (lines/code), and Complexity (number of scopes)";
	Utils::sTitle(out.str(), 3, 92, out, '=');
	out &lt&lt "\n";
	Rslt::write(out.str());

	std::function&ltvoid(ASTNode* pNode)&gt co = [&](ASTNode* pNode) <div0 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo0">+</button>
<div2014 id="demo0" class="collapse">{
		if (
			pNode-&gttype_ == "namespace" ||
			pNode-&gttype_ == "function" ||
			pNode-&gttype_ == "class" ||
			pNode-&gttype_ == "interface" ||
			pNode-&gttype_ == "struct" ||
			pNode-&gttype_ == "lambda"
			)
			fileNodes_.push_back(std::pair&ltFile, ASTNode*&gt(pNode-&gtpackage_, pNode));
	}</div0></div2014>;
	ASTWalkNoIndent(root, co);
	std::stable_sort(fileNodes_.begin(), fileNodes_.end(), CompExts());
	std::stable_sort(fileNodes_.begin(), fileNodes_.end(), CompNames());

	displayHeader();

	std::string prevFile;
	for (auto item : fileNodes_)
	<div19 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo19">+</button>
<div2011 id="demo19" class="collapse">{
		if (item.first != prevFile)
		<div98 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo98">+</button>
<div1988 id="demo98" class="collapse">{
			Rslt::write("\n");
			displayHeader();
		}</div98></div1988>
		displayMetricsLine(item.first, item.second);
		displayDataLines(item.second);
		prevFile = item.first;
	}</div98></div1988>
	Rslt::write("\n");
}</div98></div1988>
//----&lt display metrics results of code analysis &gt---------------

void CodeAnalysisExecutive::displayMetrics()
<div24 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo24">+</button>
<div2013 id="demo24" class="collapse">{
	ASTNode* pGlobalScope = pRepo_-&gtgetGlobalScope();
	displayMetrics(pGlobalScope);
}</div24></div2013>
//----&lt walk tree of element nodes &gt---------------------------------

template&lttypename element&gt
void TreeWalk(element* pItem, bool details = false)
<div44 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo44">+</button>
<div2014 id="demo44" class="collapse">{
	static std::string path;
	if (path != pItem-&gtpath_ && details == true)
	<div89 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo89">+</button>
<div1987 id="demo89" class="collapse">{
		path = pItem-&gtpath_;
		Rslt::write("\n" + path);
	}</div89></div1987>
	static size_t indentLevel = 0;
	std::ostringstream out;
	out &lt&lt "\n  " &lt&lt std::string(2 * indentLevel, ' ') &lt&lt pItem-&gtshow();
	Rslt::write(out.str());
	auto iter = pItem-&gtchildren_.begin();
	++indentLevel;
	while (iter != pItem-&gtchildren_.end())
	<div95 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo95">+</button>
<div2010 id="demo95" class="collapse">{
		TreeWalk(*iter);
		++iter;
	}</div95></div2010>
	--indentLevel;
}</div95></div2010>
//----&lt display the AbstrSynTree build in processSourceCode() &gt------

void CodeAnalysisExecutive::displayAST()
<div93 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo93">+</button>
<div1988 id="demo93" class="collapse">{
	flushLogger();
	ASTNode* pGlobalScope = pRepo_-&gtgetGlobalScope();
	Utils::title("Abstract Syntax Tree");
	TreeWalk(pGlobalScope);
	Rslt::write("\n");
}</div93></div1988>
//----&lt show functions with metrics exceeding specified limits &gt-----

void CodeAnalysisExecutive::displayMetricSummary(size_t sMax, size_t cMax)
<div23 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo23">+</button>
<div2012 id="demo23" class="collapse">{
	flushLogger();
	std::ostringstream out;
	Utils::sTitle("Functions Exceeding Metric Limits and Public Data", 3, 92, out, '=');
	Rslt::write(out.str());
	displayHeader();

	if (fileNodes_.size() == 0)  // only build fileNodes_ if displayMetrics hasn't been called
	<div14 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo14">+</button>
<div2008 id="demo14" class="collapse">{
		std::function&ltvoid(ASTNode* pNode)&gt co = [&](ASTNode* pNode) <div48 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo48">+</button>
<div1985 id="demo48" class="collapse">{
			fileNodes_.push_back(std::pair&ltFile, ASTNode*&gt(pNode-&gtpackage_, pNode));
		}</div48></div1985>;
		ASTNode* pGlobalNamespace = pRepo_-&gtgetGlobalScope();
		ASTWalkNoIndent(pGlobalNamespace, co);
		std::stable_sort(fileNodes_.begin(), fileNodes_.end(), CompExts());
		std::stable_sort(fileNodes_.begin(), fileNodes_.end(), CompNames());
	}</div48></div1985>
	for (auto item : fileNodes_)
	<div58 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo58">+</button>
<div2003 id="demo58" class="collapse">{
		if (item.second-&gttype_ == "function")
		<div80 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo80">+</button>
<div2011 id="demo80" class="collapse">{
			size_t size = item.second-&gtendLineCount_ - item.second-&gtstartLineCount_ + 1;
			size_t cmpl = item.second-&gtcomplexity_;
			if (size &gt sMax || cmpl &gt cMax)
				displayMetricsLine(item.first, item.second);
		}</div80></div2011>
	}</div80></div2011>
	Rslt::write("\n");
	for (auto item : fileNodes_)
	<div98 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo98">+</button>
<div1996 id="demo98" class="collapse">{
		displayDataLines(item.second, true);
	}</div98></div1996>
	Rslt::write("\n");
}</div98></div1996>
//----&lt comparison functor for sorting SLOC display &gt----------------

struct compFiles
<div89 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo89">+</button>
<div1993 id="demo89" class="collapse">{
private:
	std::string ChangeFirstCharOfExt(const std::string& fileName) const
	<div9 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo9">+</button>
<div1992 id="demo9" class="collapse">{
		std::string temp = fileName;
		size_t pos = temp.find_last_of('.');
		if (pos &lt temp.size() - 1)
			if (temp[pos + 1] == 'h')
				temp[pos + 1] = 'a';
		return temp;
	}</div9></div1992>
public:
	bool operator()(const std::string& fileName1, const std::string& fileName2) const
	<div72 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo72">+</button>
<div1997 id="demo72" class="collapse">{
		return ChangeFirstCharOfExt(fileName1) &lt ChangeFirstCharOfExt(fileName2);
	}</div72></div1997>
}</div72></div1997>;
//----&lt show sizes of all the files processed &gt----------------------

void CodeAnalysisExecutive::displaySlocs()
<div38 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo38">+</button>
<div2007 id="demo38" class="collapse">{
	flushLogger();
	Utils::sTitle("File Size - Source Lines of Code", 3, 92);
	size_t slocCount = 0;
	std::map&ltstd::string, size_t, compFiles&gt fileColl;
	for (auto item : fileMap_)
	<div38 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo38">+</button>
<div2014 id="demo38" class="collapse">{
		for (auto file : item.second)
		<div90 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo90">+</button>
<div2002 id="demo90" class="collapse">{
			File fileName = FileSystem::Path::getName(file);
			fileColl[file] = slocMap_[fileName];
		}</div90></div2002>
	}</div90></div2002>
	for (auto fitem : fileColl)
	<div58 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo58">+</button>
<div1996 id="demo58" class="collapse">{
		std::ostringstream out;
		out &lt&lt "\n  " &lt&lt std::setw(8) &lt&lt fitem.second &lt&lt " : " &lt&lt fitem.first;
		Rslt::write(out.str());
		slocCount += fitem.second;
	}</div58></div1996>
	std::ostringstream out;
	out &lt&lt "\n\n      Total line count = " &lt&lt slocCount &lt&lt "\n";
	Rslt::write(out.str());
	Rslt::write("\n");
}</div58></div1996>
//----&lt display analysis info based on command line options &gt--------

void CodeAnalysisExecutive::dispatchOptionalDisplays()
<div15 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo15">+</button>
<div2013 id="demo15" class="collapse">{
	for (auto opt : options_)
	<div56 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo56">+</button>
<div2006 id="demo56" class="collapse">{
		switch (opt)
		<div2 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo2">+</button>
<div2009 id="demo2" class="collapse">{
		case 'm':
			displayMetrics();
			Rslt::start();
			break;
		case 'a':
			displayAST();
			Rslt::start();
			break;
		case 's':
			displaySlocs();
			Rslt::start();
			break;
		default:
			break;
		}</div2></div2009>
	}</div2></div2009>
}</div2></div2009>
//----&lt display analysis info based on command line options &gt--------

void CodeAnalysisExecutive::setDisplayModes()
<div72 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo72">+</button>
<div2000 id="demo72" class="collapse">{
	for (auto opt : options_)
	<div28 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo28">+</button>
<div2011 id="demo28" class="collapse">{
		switch (opt)
		<div62 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo62">+</button>
<div2011 id="demo62" class="collapse">{
		case 'r':
			Rslt::start();
			break;
		case 'd':
			Demo::start();
			break;
		case 'b':
			Dbug::start();
			break;
		case 'f':
			setLogFile("logFile.txt");
			break;
		default:
			if (opt != 'a' && opt != 'b' && opt != 'd' && opt != 'f' && opt != 'm' && opt != 'r' && opt != 's')
			<div75 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo75">+</button>
<div2008 id="demo75" class="collapse">{
				std::cout &lt&lt "\n\n  unknown option " &lt&lt opt &lt&lt "\n\n";
			}</div75></div2008>
		}</div75></div2008>
	}</div75></div2008>
}</div75></div2008>
//----&lt helper functions for managing application's logging &gt--------

void CodeAnalysisExecutive::startLogger(std::ostream& out)
<div69 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo69">+</button>
<div1997 id="demo69" class="collapse">{
	Rslt::attach(&out);
	Demo::attach(&out);
	Dbug::attach(&out);

	// will start Demo and Dbug if  have options /d and /b

	setDisplayModes();
}</div69></div1997>

void CodeAnalysisExecutive::flushLogger()
<div44 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo44">+</button>
<div1991 id="demo44" class="collapse">{
	Rslt::flush();
	Demo::flush();
	Dbug::flush();
}</div44></div1991>

void CodeAnalysisExecutive::stopLogger()
<div81 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo81">+</button>
<div2003 id="demo81" class="collapse">{
	Rslt::flush();
	Demo::flush();
	Dbug::flush();
	Rslt::stop();
	Demo::stop();
	Dbug::stop();
}</div81></div2003>
//----&lt open file stream for logging &gt-------------------------------
/*
*  - must come after CodeAnalysisExecutive::processCommandLine()
*  - must come before starting any of the loggers
*/
void CodeAnalysisExecutive::setLogFile(const File& file)
<div22 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo22">+</button>
<div2006 id="demo22" class="collapse">{
	std::string path = getAnalysisPath();
	path += "\\" + file;
	pLogStrm_ = new std::ofstream(path);
	if (pLogStrm_-&gtgood())
	<div21 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo21">+</button>
<div2014 id="demo21" class="collapse">{
		Rslt::attach(pLogStrm_);
		Demo::attach(pLogStrm_);
		Dbug::attach(pLogStrm_);
	}</div21></div2014>
	else
		Rslt::write("\n  couldn't open logFile.txt for writing");
}</div21></div2014>

std::string CodeAnalysisExecutive::systemTime()
<div57 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo57">+</button>
<div1991 id="demo57" class="collapse">{
	time_t sysTime = time(&sysTime);
	char buffer[27];
	ctime_s(buffer, 27, &sysTime);
	buffer[24] = '\0';
	std::string temp(buffer);
	return temp;
}</div57></div1991>
//----&lt conduct code analysis &gt--------------------------------------

#include &ltfstream&gt

#ifdef TESTPUBEXEC


int main(int argc, char* argv[])
<div92 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo92">+</button>
<div2014 id="demo92" class="collapse">{
	using namespace CodeAnalysis;

	CodeAnalysisExecutive exec;

	try <div75 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo75">+</button>
<div1987 id="demo75" class="collapse">{
		bool succeeded = exec.ProcessCommandLine(argc, argv);
		TypeTable Tt;
		TypeAnal ta;
		if (!succeeded)
		<div0 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo0">+</button>
<div2005 id="demo0" class="collapse">{
			return 1;
		}</div0></div2005>
		exec.setDisplayModes();
		exec.startLogger(std::cout);

		std::ostringstream tOut("CodeAnalysis - Version 1.4");
		Utils::sTitle(tOut.str(), 3, 92, tOut, '=');
		Rslt::write(tOut.str());
		Rslt::write("\n     " + exec.systemTime());
		Rslt::flush();
		exec.showCommandLineArguments(argc, argv);
		Rslt::write("\n");

		exec.getSourceFiles();
		exec.processSourceCode(true);
		exec.complexityAnalysis();
		exec.dispatchOptionalDisplays();
		exec.flushLogger();
		exec.displayMetricSummary(50, 10);

		exec.flushLogger();
		Rslt::write("\n");
	




		ta.doTypeAnal();
		Tt = ta.GetTypeTable();

		

		Tt.show();
		std::set&ltstd::string&gt setfiles = ta.GetFile();
		for (std::string it : setfiles) <div3 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo3">+</button>
<div2004 id="demo3" class="collapse">{ ta.Dependency(it); }</div3></div2004>

		
		std::cout &lt&lt "\n\n\n\n ---------------&lt   Dependency Analysis  &gt-----------------\n" &lt&lt std::endl;
		
		ta.ShowFunction_DA();
		ta.ShowFunction_DA1();
		NoSqlDb&ltstd::string&gt nosqldb;
		nosqldb.dependency_analysis(ta);

		graph g;
		std::cout &lt&lt "\n\n ---------------&lt   Analysis Results   &gt-----------------" &lt&lt std::endl;

		Keys intkeys = nosqldb.keys();
		for (Key k : nosqldb.keys())
		<div61 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo61">+</button>
<div2003 id="demo61" class="collapse">{
			std::cout &lt&lt "\n  " &lt&lt k &lt&lt ":";
			std::cout &lt&lt nosqldb.value(k).show();
		}</div61></div2003>
		std::cout &lt&lt "\n ---------------&lt   Analysis Results in Xml format  &gt-----------------" &lt&lt std::endl;
		int edgevalue = 1;
		Element&ltstd::string&gt elem;
		std::string Xmlformat;
		
		
		ofstream myfile;
		myfile.open("C:\\Users\\Manjunath Gowda\\CodeAnalyzer (1)\\Publisher\\Parser\\manju.html");
		myfile &lt&lt "&lt!DOCTYPE html&gt&lthtml&gt&lthead&gt&lt/head&gt&ltbody&gt&ltpre&gt";
	
		std::fstream fs;
		std::string str1;
		std::string str2;
		set&ltstring&gt sset;
		for (Key key : nosqldb.keys())
		<div1 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo1">+</button>
<div1994 id="demo1" class="collapse">{
			elem = nosqldb.element_return(key);
		Xmlformat = nosqldb.toXml(elem);
			Xmlformat = nosqldb.toXml(elem);
			std::cout &lt&lt "\n" &lt&lt Xmlformat;
			myfile &lt&lt Xmlformat;
		}</div1></div1994>
		myfile &lt&lt "&lt/pre&gt&lt/body&gt&lt/html&gt";
		myfile.close();


		for (std::string it : setfiles)
		<div55 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo55">+</button>
<div1998 id="demo55" class="collapse">{
			vertex v1(it);
			g.addVertex(v1);
		}</div55></div1998>
		std::cout &lt&lt "\n";
		std::vector&lt Vertex&ltstd::string, std::string&gt &gt vv = g.getadj();

		unordered_map&ltstd::string, std::set&ltstd::string&gt&gt depmap = ta.returnmap();
		for (Vertex&ltstring, string&gt vertex : vv)
		<div2 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo2">+</button>
<div2010 id="demo2" class="collapse">{
			if (depmap.find(vertex.value()) != depmap.end())
			<div82 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo82">+</button>
<div2010 id="demo82" class="collapse">{
				sset = depmap[vertex.value()];
				for (string sset_string : sset)
				<div88 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo88">+</button>
<div2001 id="demo88" class="collapse">{
					for (Vertex&ltstring, string&gt vertex_ : vv)
					<div17 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo17">+</button>
<div2012 id="demo17" class="collapse">{
						if (vertex_.value() == sset_string)
							g.addEdge(to_string(edgevalue++), vertex, vertex_);
					}</div17></div2012>
				}</div17></div2012>
			}</div17></div2012>
		}</div17></div2012>
		strongly_connected_components sc(g);
		sc.findingSCC();
		std::unordered_map&ltstd::string, std::set&ltstd::string&gt&gt scmap = sc.getSCC();

		cout &lt&lt "\n------------------------------&lt  Strongly Connected Components   &gt---------------------------------" &lt&lt std::endl;
		for (auto itreation : scmap)
		<div32 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo32">+</button>
<div1987 id="demo32" class="collapse">{
			for (auto iteration : itreation.second)
			<div69 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo69">+</button>
<div2009 id="demo69" class="collapse">{
				std::cout &lt&lt itreation.first &lt&lt std::endl;
				std::cout &lt&lt iteration &lt&lt std::endl;
			}</div69></div2009>
		}</div69></div2009>
		sc.persistsIntoXml("abc");
		NoSqlDb&ltstd::string&gt a;
		cout &lt&lt "\n ---In Xml format---";
		a.strong(sc);

		


		fs.open("abc.xml", std::ios::app);
		for (Key key : a.keys())
		<div21 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo21">+</button>
<div2014 id="demo21" class="collapse">{
			elem = a.element_return(key);
			Xmlformat = a.strongtoXml(elem);
			std::cout &lt&lt "\n" &lt&lt Xmlformat;
			fs &lt&lt Xmlformat;
		}</div21></div2014>

		std::cout &lt&lt "\n\n\n\nRequirement 1:- Usage of Visual Studio 2015 and its C++ Windows Console Projects, as provided in the ECS computer labs.";
		std::cout &lt&lt "\nRequirement 1 - -----------------------Completed-------------------------------\n";
		std::cout &lt&lt "\nRequirement 2:- Usage of the C++ standard library's streams for all I/O and new and delete for all heap-based memory management";
		std::cout &lt&lt "\nRequirement 2 - -----------------------Completed-------------------------------\n";
		std::cout &lt&lt "\nRequirement 3:- A Publisher Program is created which provides for creation of web pages";
		std::cout &lt&lt "\nRequirement 3 - -----------------------Completed-------------------------------\n";
		std::cout &lt&lt "\n\n\n\nRequirement 4:---------------&lt  JavaScript and CSS properties are used provide the facility to expand or collapse class bodies, methods, and global functions   &gt-----------------" &lt&lt std::endl;
		std::cout &lt&lt "\n\nRequirement 5 - -----------------------Completed-------------------------------\n";

		std::cout &lt&lt "\n\nRequirement 6 - -----------------------Completed-------------------------------\n";

		std::cout &lt&lt "\n\nRequirement 7 ----- Dependency Files with the lables are published -----\n";
		std::cout &lt&lt "\nRequirement 8 - -----------------------Completed-------------------------------\n";

		std::cout &lt&lt "\nRequirement 9 - CodePublisher functionality by publishing all the important packages in your Project #3\n";
		std::cout &lt&lt "                  I have Demonstrated AbstractSyntaxTree Packages From Project 3.\n";
		std::cout &lt&lt "\nRequirement 10 - PublisherExecutive.cpp is demonstrating that you meet all the requirements of this project.\n"; 


		std::ostringstream out;
		out &lt&lt "\n  " &lt&lt std::setw(10) &lt&lt "searched" &lt&lt std::setw(6) &lt&lt exec.numDirs() &lt&lt " dirs";
		out &lt&lt "\n  " &lt&lt std::setw(10) &lt&lt "processed" &lt&lt std::setw(6) &lt&lt exec.numFiles() &lt&lt " files";
		Rslt::write(out.str());
		Rslt::write("\n");

		exec.stopLogger();
		std::cout &lt&lt "\n  Code Analysis completed";
	}</div21></div2014>

	catch (std::exception& except)
	<div76 class="container">
<button type="button" class = "btn btn-info" data-toggle="collapse" data-target ="#demo76">+</button>
<div1994 id="demo76" class="collapse">{
		exec.flushLogger();
		std::cout &lt&lt "\n\n  caught exception in Executive::main: " + std::string(except.what()) + "\n\n";
		exec.stopLogger();
		return 1;
	}</div76></div1994>
	return 0;
}</div76></div1994>
#endif // TESTPUBEXEC
</pre></body></html>